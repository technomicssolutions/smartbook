{% extends 'base.html' %}
{% block title %}Date Wise Sales Reports{% endblock title %}
{% block body_id %}sales_reports_date{% endblock %}

{% block controller %}
	ng-controller="SalesReportController" ng-init="init('{{csrf_token}}')"   
{% endblock controller %}

{% block content %}

<div ng-show="report_date_wise">
	<div class="main-title">		
		<div class="alert alert-info" align="Center">Date Wise Sales Report</div>
	</div>	

	<div class="message" ng-show="error_flag">
		<p>[[messages]]</p>
	</div>
		
	<div class="reporttext">
		<label for="s_date">Start Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="start_date" id="start_date">
	</div>					

	<div class="reporttext">
		<label for="e_date">End Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="end_date" id="end_date">
	</div>

	<div class="reporttext">
		<input type="submit" value="View Report" class="btn btn-info report_button " style="border-top-width: 0px; margin-top: 3px;" ng-click="view_report('date')">
	</div>	

	<div class="reporttext">
		<a href=""><img src="/static/images/print.png" height='25px' width='25px'/></a>
	</div>

	<div class="reportinput">		
		<select name="report_type" ng-change="get_report_type()" ng-model="report_type">		
			<option value="date">Date Wise Report</option>
			<option value="item">Item Wise Report</option>
			<option value="customer">Customer Wise Report</option>
			<option value="salesman">Salesman Wise Report</option>
		</select>
	</div>				

	<table id="list" class="table table-hover" ng-show ="sales_report.length > 0">
		<thead class="success" style="font-size: 12px"style="width:auto">
		  <th>Date</th>
		  <th>Invoice Number</th>
		  <th>Item Name</th>
		  <th>Quantity</th>
		  <th>Discount</th>
		  <th>Selling Price</th>
		  <th>Total</th>
		  <th>Profit</th>		  
		</thead>
		<tbody>
			<tr ng-repeat="report in sales_report">
				<td>[[report.dates]]</td>
				<td>[[report.invoice_no]]</td>
				<td>[[report.item_name]]</td>
				<td>[[report.qty]]</td>
				<td>[[report.discount]]</td>
				<td>[[report.selling_price]]</td>
				<td>[[report.total]]</td>
				<td>[[report.profit]]</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td>Round Off: [[total_sales_report.round_off]]</td>
				<td></td>
				<td></td>
				<td></td>
				<td>[[total_sales_report.total_discount]]</td>
				<td></td>
				<td>[[total_sales_report.grant_total]]</td>
				<td>[[total_sales_report.total_profit]]</td>

			</tr>
		</tfoot>
	</table> 
</div>

<div ng-show="report_item_wise">
	<div class="main-title">		
		<div class="alert alert-info" align="Center">Item Wise Sales Report</div>
	</div>

	<div class="message" ng-show="error_flag">
		<p>[[messages]]</p>
	</div>

	<div class="reporttext">
		<label for="s_date">Start Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="start_date" id="item_start_date">
	</div>

	<div class="reporttext">
		<label for="e_date">End Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="end_date" id="item_end_date">
	</div>

	<div class="reporttext">
		<input type="submit" value="View Report" class="btn btn-info report_button " style="border-top-width: 0px; margin-top: 3px;" ng-click="view_report('item')">
	</div>
	<div class="reporttext">
	

	<a href=""><img src="/static/images/print.png" height='25px' width='25px'/></a>
	</div>
	<div class="reportinput">		
		<select name="report_type" ng-change="get_report_type()" ng-model="report_type">			
			<option value="date">Date Wise Report</option>
			<option value="item">Item Wise Report</option>
			<option value="customer">Customer Wise Report</option>
			<option value="salesman">Salesman Wise Report</option>
		</select>
	</div>			
	<table id="list" class="table table-hover" ng-show ="sales_report.length > 0" >
		<thead class="success" style="font-size: 12px"style="width:auto">
		  <th>Item Code</th>
		  <th>Item Name</th>
		  <th>Total Quantity</th>
		  <th>Discount</th>
		  <th>Cost Price</th>
		  <th>Selling Price</th>
		  <th>Profit</th>
		</thead>
		<tbody>
			<tr ng-repeat="report in sales_report">
				<td>[[report.item_code]]</td>
				<td>[[report.item_name]]</td>
				<td>[[report.total_qty]]</td>
				<td>[[report.discount]]</td>
				<td>[[report.cost_price]]</td>
				<td>[[report.selling_price]]</td>
				<td>[[report.profit]]</td>					
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td></td>
				<td></td>
				<td></td>			
				<td>[[total_sales_report.total_discount]]</td>
				<td>[[total_sales_report.total_cp]]</td>
				<td>[[total_sales_report.total_sp]]</td>
				<td>[[total_sales_report.total_profit]]</td>
			</tr>
		</tfoot>
	</table> 
</div>

<div ng-show="report_customer_wise">
	<div class="main-title">		
		<div class="alert alert-info" align="Center">Customer Wise Sales Report</div>
	</div>

	<div class="message" ng-show="error_flag">
		<p>[[messages]]</p>
	</div>

	<div class="reporttext">
		<label>Customer</label> 
	</div>	
	<div class="reportinput">
		<select name="customer" ng-model="customer_name">
		 	<option value="select">Select Customer</option>
		 	<option ng-repeat="customer in customers" value="[[customer.customer_name]]">[[customer.customer_name]]</option>
		</select>
	</div>
		
	<div class="reporttext">
		<label for="s_date">Start Date</label>
	</div>

	<div class="reportinput">
		<input type="text" name="start_date" id="customer_start_date">
	</div>					

	<div class="reporttext">
		<label for="e_date">End Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="end_date" id="customer_end_date">
	</div>

	<div class="reporttext">
		<input type="submit" value="View Report" class="btn btn-info report_button " style="border-top-width: 0px; margin-top: 3px;" ng-click="view_report('customer')">
	</div>
	<div class="reporttext">
		<a href=""><img src="/static/images/print.png" height='25px' width='25px'/></a>
	</div>

	<div class="reportinput">		
		<select name="report_type" ng-change="get_report_type()" ng-model="report_type">			
			<option value="date">Date Wise Report</option>
			<option value="item">Item Wise Report</option>
			<option value="customer">Customer Wise Report</option>
			<option value="salesman">Salesman Wise Report</option>
		</select>
	</div>			

	<table id="list" class="table table-hover" ng-show ="sales_report.length > 0">
		<thead class="success" style="font-size: 12px"style="width:auto">
		  <th>Date</th>
		  <th>Invoice Number</th>
		  <th>Item Name</th>
		  <th>Quantity</th>
		  <th>Discount</th>
		  <th>Selling Price</th>
		  <th>Total</th>
		  <th>Profit</th>
		  <th></th>
		</thead>
		<tbody ng-repeat="report in sales_report">
			<td>[[report.dates]]</td>
			<td>[[report.invoice_no]]</td>
			<td>[[report.item_name]]</td>
			<td>[[report.qty]]</td>
			<td>[[report.discount]]</td>
			<td>[[report.selling_price]]</td>
			<td>[[report.total]]</td>
			<td>[[report.profit]]</td>
		</tbody>
		<tfoot>
			<tr>
				<td></td>
				<td></td>
				<td></td>	
				<td></td>		
				<td>[[total_sales_report.total_discount]]</td>
				<td>[[total_sales_report.total_sp]]</td>
				<td>[[total_sales_report.grant_total]]</td>
				<td>[[total_sales_report.total_profit]]</td>
			</tr>
		</tfoot>
	</table> 
		
</div>

<div ng-show="report_salesman_wise">
	<div class="main-title">		
		<div class="alert alert-info" align="Center">Salesman Wise Sales Report</div>
	</div>

	<div class="message" ng-show="error_flag">
		<p>[[messages]]</p>
	</div>
	
	<div class="reporttext">
		<label> Salesman</label> 
	</div>
	<div class="reportinput">
		<select name="salesman" ng-model="salesman_name">
		 	<option value="select" >Select Salesman</option>
		 	<option ng-repeat="salesman in salesmen" value="[[salesman.salesman_name]]">[[salesman.salesman_name]]</option>
		</select>		
	</div>
		
	<div class="reporttext">
		<label for="s_date">Start Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="start_date" id="salesman_start_date">
	</div>				

	<div class="reporttext">
		<label for="e_date">End Date</label>
	</div>
	<div class="reportinput">
		<input type="text" name="end_date" id="salesman_end_date">
	</div>

	<div class="reporttext">
		<input type="submit" value="View Report" class="btn btn-info report_button " style="border-top-width: 0px; margin-top: 3px;" ng-click="view_report('salesman')">
	</div>

	<div class="reporttext">
		<a href=""><img src="/static/images/print.png" height='25px' width='25px'/></a>
	</div>

	<div class="reportinput">		
		<select name="report_type" ng-change="get_report_type()" ng-model="report_type">			
			<option value="date">Date Wise Report</option>
			<option value="item">Item Wise Report</option>
			<option value="customer">Customer Wise Report</option>
			<option value="salesman">Salesman Wise Report</option>
		</select>
	</div>			

	<table id="list" class="table table-hover" ng-show ="sales_report.length > 0">
		<thead class="success" style="font-size: 12px"style="width:auto">
		  <th>Date</th>
		  <th>Invoice Number</th>
		  <th>Item Name</th>
		  <th>Quantity</th>
		  <th>Discount</th>
		  <th>Selling Price</th>
		  <th>Total</th>
		  <th>Profit</th>
		  <th></th>
		</thead>
		<tbody ng-repeat="report in sales_report">
			<td>[[report.dates]]</td>
			<td>[[report.invoice_no]]</td>
			<td>[[report.item_name]]</td>
			<td>[[report.qty]]</td>
			<td>[[report.discount]]</td>
			<td>[[report.selling_price]]</td>
			<td>[[report.total]]</td>
			<td>[[report.profit]]</td>
		</tbody>
		<tfoot>
			<tr>
				<td></td>
				<td></td>
				<td></td>	
				<td></td>		
				<td>[[total_sales_report.total_discount]]</td>
				<td>[[total_sales_report.total_sp]]</td>
				<td>[[total_sales_report.grant_total]]</td>
				<td>[[total_sales_report.total_profit]]</td>
			</tr>
		</tfoot>

	</table> 
</div>



{% endblock content %}